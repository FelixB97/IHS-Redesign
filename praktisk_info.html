<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IHS</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            overflow-x: hidden;
        }

        img {
            max-width: 100%;
        }

        p,
        h1,
        h2,
        h3 {
            font-family: sans-serif;
        }



        .container {
            background-color: #87A4CB;
        }


        .container:last-child {
            margin-bottom: 25px;
        }

        .container p {
            color: #FFFFFF;
        }

        .container h1 {
            color: #274976;
        }

        .container h2 {
            color: #274976;
        }

        #topcontent {
            background-color: #274976;
        }

        #topcontent h1 {
            color: #FF7F00;
            padding-left: 40px;
            padding-right: 40px;
            padding-top: 40px;
            margin-bottom: 40px;
        }

        #topcontent h2 {
            color: #FF7F00;
            padding-left: 40px;
            padding-right: 40px;
        }

        #topcontent p {
            color: #FFFFFF;
            padding: 40px;
            padding-right: 40px;
        }


        .hidden {
            display: none;

        }

        #billed_container img {
            height: 200px;
            width: 100%;
            object-fit: cover;
        }

        .pil {
        height: 15px;
        width: 15px;
        padding-right: 10px;
    }
.pil {
        height: 15px;
        width: 15px;
        padding-right: 10px;
    }

    .fold-ud {
        margin: 10vw auto;
    }

    #indhold {
        max-width: 360px;
        margin: auto;
        background-color: #87A4CB;
    }

    .fold-ud-content {
        padding: 20px;
    }


    .title {
        background-color: #87A4CB;
        padding: 15px 20px;
        max-width: 320px;
        margin: 0 auto;

    }

    .container {
        margin: 7px;
    }

    h2 {
        padding-left: 20px;
    }


    main img {
        width: 100%;
        height: 400px;
        object-fit: cover;
    }

    .image-container {
        padding: 0;
    }

    /*****************/


    #tekst-container h1 {
        color: #FF7F00;
        text-transform: uppercase;
    }

    #tekst-container p,
    .container h3,
    .container p {
        color: white;
    }

    .container h2 {
        color: #274976;
        font-size: 1.3rem;
    }

    h3,
    h2 {
        text-transform: uppercase;
    }



    #tekst-container {
        background-color: #274976;
        padding: 0 25px;
        display: flex;
        flex-wrap: wrap;
        align-content: center;
        height: 350px;
        margin-bottom: 80px;

    }

    </style>
</head>

<body>
    <header>
        <div class="headerbar">
            <a href="forside.html" class="logo"><img src="img/logo.png"></a>
            <div class="burger" onclick="myFunction(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </div>

        </div>

        <nav class="hidden_menu">
            <ul id="menu">
                <li>
                    <a class="hoejskole" href="#">Højskole</a>
                    <ul class="hoejskole_dropdown hide_hoejskole_dropdown">
                        <li><a href="specialefag.html">Specialefag</a></li>
                        <li><a href="idraetsfag.html">Idrætsfag</a>
                        <li><a href="almene-fag.html">Almene fag</a></li>
                        <li><a href="interessefag.html">Interessefag</a></li>
                        <li><a href="faelles-fag.html">Fælles fag</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Andre Tilbud</a>
                </li>
                <li>
                    <a href="praktisk_info.html">Praktisk Information</a>
                </li>
                <li>
                    <a href="om_os.html">Om IHS</a>
                </li>
                <li>
                    <a href="#">Kontakt Os</a>
                </li>
            </ul>
        </nav>

    </header>
    <main>
        <div class="headerblock"></div>
        <div id="topcontent">
            <h1 id="title"></h1>
            <div id="titletekst"></div>
        </div>
        <section id="fold-ud">
            <template>
                <div class="container">
                    <h2 class="title">
                        <img src="arrow_down.svg" class="pil">
                    </h2>

                    <div id="indhold" class="hidden">
                        <p class="tekst"></p>

                    </div>
                </div>
            </template>
        </section>
        <div id="billed_container"><img></div>
    </main>
    <footer>
        <h2 class="footer_cta">FIND OS HER</h2>
        <div id="some_link">
            <div class="some_innercontainer1">
                <div> <a href="https://www.instagram.com/ihsdk/?hl=da"> <img src="soMeIcons/instagram.png"></a></div>
                <div> <a href="https://www.facebook.com/IdraetshojskolenSonderborg/"> <img src="soMeIcons/facebook.png"></a></div>
                <div> <a href="https://vimeo.com/channels/1306783"><img src="soMeIcons/vimeo.png"></a></div>
            </div>
            <div class="some_innercontainer2">
                <div> <a href="https://www.youtube.com/channel/UC3_GXsm6rzkw2L8Ni9p5Vlw?view_as=subscriber"><img src="soMeIcons/youtube.png"></a></div>
                <div><a href="https://www.linkedin.com/company/idraetshojskolensonderborg/"><img src="soMeIcons/linkedin.png"></a></div>
                <div> <a href="https://www.ihs.dk/blog"><img src="soMeIcons/nyt_blogikon.svg"></a></div>
            </div>

        </div>


        <div id="højskole_trustpilot">
            <img class="hoejskolerne" src="hoejskolerne.png">
            <img class="trustpilot" src="trustpilot.png">
        </div>
        <p class="footer_tekst"></p>
    </footer>
    <script src="javascript.js"></script>
    <script>
        let praktiskInfo;

        document.addEventListener("DOMContentLoaded", loadTekst);
        document.addEventListener("DOMContentLoaded", loadFoldUd);



        async function loadTekst() {
            let url2 = "http://signemariemathiasen.dk/kea/2_sem/09.05.01_ihs/wordpress/wp-json/wp/v2/pages/404?_embed";
            let json2 = await fetch(url2);
            tekst = await json2.json();
            console.log("LOADING DONE");

            document.querySelector("#titletekst").innerHTML = tekst.content.rendered;
            document.querySelector("#title").textContent = tekst.title.rendered;
            document.querySelector("#billed_container img").src = tekst._embedded['wp:featuredmedia']['0'].source_url;

        }

        let faellesfag;
        let temp = document.querySelector("template");
        let container = document.querySelector("#fold-ud");



        async function loadFoldUd() {
            let url = "http://signemariemathiasen.dk/kea/2_sem/09.05.01_ihs/wordpress/wp-json/wp/v2/posts/?categories=11";
            let jsonData = await fetch(url);
            faellesfag = await jsonData.json();
            console.log("LOADING DONE");

            faellesfag.forEach(faellesFag => {

                const klon = temp.cloneNode(true).content;
                klon.querySelector(".title").innerHTML += faellesFag.title.rendered;
                klon.querySelector(".tekst").innerHTML = faellesFag.content.rendered;
                klon.querySelector(".container").addEventListener("click", (e) => toggleContent(e));

                container.appendChild(klon); //klones til DOM

            })

        }

        function toggleContent(e) {
            console.log(
                e.target.parentElement
            );
            let valgt = e.target.parentElement;

            valgt.querySelector("#indhold").classList.toggle("hidden");

            let erSkjult = valgt.querySelector("#indhold").classList.contains("hidden");
            console.log(erSkjult);

            if (erSkjult == true) {
                valgt.querySelector(".pil").src = "arrow_down.svg";
            } else {
                valgt.querySelector(".pil").src = "arrow_up.svg";
            }
        }

    </script>

</body>

</html>
